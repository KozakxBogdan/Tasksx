/*
Bob - 1l
zp - 200 000r 
Bob арендует хату за 25к и вкладывает 1л в банк под 20% ежемес€чной капитализации. 
Ћ.р.: 36к на еду, 5к комуналка, 17к прочие расходы, подушка безопасности 37к, 80 в банк.



*/
#include <math.h>
#include <iostream>

using namespace std;

int main() {
	setlocale(LC_ALL, "RU");
	float sum;
	cout << "¬ведите стартовый капитал: ";
	int k;
	cin >> k;
	cout << "Ќа сколько вз€т вклад: ";
	int yi;
	cin >> yi;
	cout << "¬ведите зарплату: ";
	int zp;
	cin >> zp;
	cout << "¬ведите % ежемес€чной капитализаии: ";
	float kp;
	cin >> kp;
	cout << "¬ведите арендную плату: ";
	int a;
	cin >> a;
	cout << "¬ведите сумму ежемес€чных расходов: ";
	int rs;
	cin >> rs;
	if (zp < a + rs)
		cout << "ќшибка!";
	else {
		float o, sb, pb, oy, ch, aktiv[30], i;
		i = 0; // »нфл€ци€ в %
		int n; // —четчик дл€ ццыкла активов
		n = 1; 
		oy = 0; // —умма сберижений за год
		for (int y = 1; y < yi; y++) {
			cout << "¬ведите инфл€цию: " << i << endl;
			cin >> i;
			cout << "¬ведите сумму ежемес€чных расходов: ";
			int r;
			cin >> r;
			for (int m = 1; m < 13; m++) {
				sb = k + ((k / 100) * (kp / 12)); //—берижени€ в банке
				r = r + ((r / 100) * i); // ¬ли€ние инфл€ции nа расходы 

				o = zp - a - r; // »злишек за мес€ц

				oy += o; // —умма активов за год

				ch = oy / 2; // ѕоловина активов за год

			}
			sb += ch;
			n += 1;

			cout << "—берижени€ в банке: " << sb << endl;
			cout << "–асходы за год: " << r << endl;
			cout << "—берижени€ за мес€ц: " << o << endl;
			cout << "—берижени€ за год: " << oy << endl;
			cout << "ƒениги уход€щие на накопитеоьный счет в банке, если присудствует излишек активов: " << ch << endl;
			cout << "√од: " << n << endl;
				 

		}
		aktiv[n] = ch;
		sum = aktiv[n] + sb;

		cout << "ѕассивы: " << sb << endl;
		cout << "јктивы: " << sum - sb << endl;
		cout << "—умма: " << sum << endl;

}
	/*
	Alice - 1l
	zp - 200 000r
	Alice берет квартиру в эпотеку за 1млн стартового взноса под 17% на 30 лет за 14млн.
	Ћ.р.: 36к на еду, 5к комуналка, 17к прочие расходы, подушка безопасности 37к, 80 в банк.
	*/
	cout << "¬ведите первоначальный взнос: ";
	int pv;
	cin >> pv;
	cout << "ѕроцентна€ ставка по эпотеке: ";
	float q;
	cin >> q;
	cout << "«арплата: ";
	int zp2;
	cin >> zp2;
	cout << "—уииа ежемес€чных расходов: ";
	int t1;
	cin >> t1;
	cout << "ѕолна€ стоимость квартиры: ";
	int psk;
	cin >> psk;
	cout << "Ќа сколько лет ипотека: ";
	int let;
	cin >> let;	// 0    1   2   3 
	int j, mn[12]{30, 31, 30, 31, 31, 28, 31, 30, 31, 30, 31, 30}; 
	float ep, i, t, o2, oy2, ch2, pr, osts, sp, aktiv2[30], sum2;
	float x1x12 = (q / 100) * 12;
	osts = psk - pv;
	j = 0; 
	oy2 = 0;
		for (int Y = 1; Y < let++; Y++) {
			cout << "¬ведите инфл€цию: ";
			cin >> i;
			cout << "¬ведите сумму ежемес€чных расходов: ";
			cin >> t;
			t = t + ((t / 100) * i); // ¬ли€ние инфл€ции nа расходы
			for (int m = 0; m < 12; m++) {  
				ep = psk * ((x1x12 * pow(1 + x1x12, let * 12)) / (pow(1 + x1x12, let * 12) - 1)); // ≈жемес€чный выплата по ипотеке
				pr = psk * ((q / 12) * 365); // %

				o2 = zp2 - t; // »злишек за мес€ц

				oy2 += o2; // —умма активов за мес€ц

				ch2 = oy2 / 2; // ѕоловина активов за мес€ц

				sp = pr * mn[m]; // % за мес€ц

				osts = osts - (ep - sp); // остаток долга 

			}
			
			osts -= ch2;
			j += 1;

			cout << "ќсталось выплатить: " << osts << endl;
			cout << "–асходы за мес€ц: " << t << endl;
			cout << "—берижени€ за мес€ц: " << o2 << endl;
			cout << "—берижени€ за год: " << oy2 << endl;
			cout << "ƒеньги уход€щие на погашение ипотеки досрочно: " << ch2 << endl;
			cout << "√од: " << j << endl;
		}
		aktiv2[j] = ch2;
		sum2 = aktiv2[j] + psk;

		cout << "ѕассивы: " << psk << endl;
		cout << "јктивы: " << ch2 << endl;
		cout << "—умма: " << sum2 << endl;

		/*if (sum > sum2)
			cout << "—тратеги€ Ѕоба выиграла!";
		else
			cout << "Cтратеги€ јлис выиграла!";*/



		return 0;
}